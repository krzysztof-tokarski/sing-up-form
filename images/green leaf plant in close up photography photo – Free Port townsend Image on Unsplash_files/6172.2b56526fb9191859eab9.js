"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[6172],{66827:(t,e,n)=>{n.d(e,{L:()=>i});var o=n(12164);const i=n(66952).kr(o.YP)},56172:(t,e,n)=>{n.d(e,{q:()=>H,Z:()=>M});var o={};n.r(o),n.d(o,{load_more_button_label:()=>w});var i={};n.r(i),n.d(i,{load_more_button_label:()=>k});var l=n(3735),r=n(721),s=n(37703),a=n(13904),d=n(12103),c=n(12864),u=n(65702),h=n(67500),p=n(91694),I=n(94597),f=n(6464),b=n(81619),g=n(14426),S=n(12164),O=n(66510),m=n(34132),v=n(59983),E=n(66952),z=n(90559),R=n(58856),N=n(219),P=n(51588),q=n(29470),_=n(61093),A=n(79436);const w=()=>"Load more photos",k=()=>"Load more photos",y=A.Id.match({EnUs:()=>o,EsEs:()=>i});var C=n(66827);const Z="gDCZZ",B="HxaG2",T="ATnvl",U="dycl5 hNER6 jJsTo qBwND",D="PwSsU O84oE",F="rx4AP";function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const H=()=>E.az("div",{className:B},E.az("div",{className:T},I.w6H(0,17).map((t=>E.az("div",{key:t,className:U},E.az("div",{className:D})))))),L=(0,O.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:b.H((()=>E.az(R.Z,{type:"photos"}))),getPlaceholderEl:b.H((()=>E.az(H,null)))}),$=(0,a.unionize)({OptInRequired:(0,a.ofType)(),Enabled:{}});class G extends E.wA{constructor(){super(...arguments),x(this,"getInfiniteScrollSetting",(t=>{let{shouldRequireInfiniteScrollOptIn:e}=t;return e?$.OptInRequired({optedIn:!1}):$.Enabled()})),x(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),x(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:t}=this.state;$.match({OptInRequired:t=>{let{optedIn:e}=t;const n=$.OptInRequired({optedIn:(0,f.U_)(e)});this.setState({infiniteScrollSetting:n})},default:l.Q1})(t)})),x(this,"fetchDataAndBuildActions",(0,r.Z)((t=>(0,l.ls)(t,g.UI((0,l.ls)(p.Yq,c.E0,(t=>{let{entities:e,result:n}=t;return[(0,d.VA)(e),d.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:n})]}))))))),x(this,"createPhotoFeedIdContextValue",(0,r.Z)((t=>S.G(t))))}UNSAFE_componentWillReceiveProps(t){if(t.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const e=this.getInfiniteScrollSetting(t);this.setState({infiniteScrollSetting:e})}}render(){const{photoFeedOption:t,photosOption:e,children:n,getNoContentEl:o,getPlaceholderEl:i,renderBeneathLoadMoreButton:l,feedId:r,fetchPhotos:s,notifier$:a,intersectionObserverRoot:d,intersectionObserverRootMarginBottom:c,t:u}=this.props,{infiniteScrollSetting:h}=this.state,p=!1===$.match({OptInRequired:t=>{let{optedIn:e}=t;return e},Enabled:()=>!0})(h);return E.az(C.L.Provider,{value:this.createPhotoFeedIdContextValue(r)},E.az(N.f,{key:r,renderItems:n,feedItemsOption:e,feedStateOption:t,getScrollFooterEl:()=>E.az("div",{className:F},$.match({OptInRequired:t=>{let{optedIn:e}=t;return e?E.az(P.Z,null):E.az(E.HY,null,E.az("div",{className:Z},E.az(z.Z,{tag:"button",buttonType:v.L$.Outline,onClick:this.toggleInfiniteScrollOptIn,type:"button"},u.load_more_button_label())),l?.())},Enabled:()=>E.az(P.Z,null)})(h)),getNoContentEl:o,getPlaceholderEl:i,shouldDisableInfiniteScroll:p,fetchDataAndBuildActions:this.fetchDataAndBuildActions(s),notifier$:a,intersectionObserverRoot:d,intersectionObserverRootMarginBottom:c}))}}const j=(0,u.O)()((()=>{const t=(0,m.XT)(),e=(0,m.u0)();return(n,o)=>({photoFeedOption:t(n,o.feedId),photosOption:e(n,o.feedId)})})),M=(0,l.zG)(G,(0,s.$j)(j),(t=>{const e=`withTranslationsUnsafe(${(0,q.G)(t)})`,n=e=>{const n=(()=>{const t=(0,_.bU)();return y(t)})();return E.az(t,{...{t:n,...e}})};return n.displayName=e,n}),(t=>(0,h.b9)(t,L)))}}]);
//# sourceMappingURL=6172.2b56526fb9191859eab9.js.map